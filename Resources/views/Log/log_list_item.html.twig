{% set portfolio %}
    {% include 'IcapPortfolioBundle:Log:log_list_item_portfolio.html.twig' %}
{% endset %}

{% if constant('Icap\\PortfolioBundle\\Event\\Log\\PortfolioAddGuideEvent::ACTION') == log.action %}
    {% set guide %}
        {% include 'IcapPortfolioBundle:Log:log_list_item_guide.html.twig' %}
    {% endset %}
    {{ log.action|trans({'%portfolio%': portfolio, '%guide%': guide}, 'log')|raw }}
{% elseif constant('Icap\\PortfolioBundle\\Event\\Log\\PortfolioRemoveGuideEvent::ACTION') == log.action %}
    {% set guide %}
        {% include 'IcapPortfolioBundle:Log:log_list_item_guide.html.twig' %}
    {% endset %}
    {{ log.action|trans({'%portfolio%': portfolio, '%guide%': guide}, 'log')|raw }}
{% elseif constant('Icap\\PortfolioBundle\\Event\\Log\\PortfolioAddViewerEvent::ACTION') == log.action %}
    {% set guide %}
        {% include 'IcapPortfolioBundle:Log:log_list_item_guide.html.twig' %}
    {% endset %}
    {{ log.action|trans({'%portfolio%': portfolio, '%guide%': guide}, 'log')|raw }}
{% elseif constant('Icap\\PortfolioBundle\\Event\\Log\\PortfolioViewEvent::ACTION') == log.action %}
    {{ log.action|trans({'%portfolio%': portfolio}, 'log')|raw }}
{% else %}
    no default text
{% endif %}